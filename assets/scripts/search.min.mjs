const relevantCodePieces=document.getElementsByClassName("js-search-area"),nav=document.getElementById("search__nav")||null,searchError=document.getElementById("search__error"),scrollBehavior={behavior:window.matchMedia("(prefers-reduced-motion: reduce)")?"auto":"smooth"};let relevantElements,currentIndex=0;function getRelevantElements(e){const t=new RegExp(e,"gi"),n=[];return[...relevantCodePieces].forEach((e=>{const r=document.createTreeWalker(e,NodeFilter.SHOW_TEXT);for(;r.nextNode();){const e=r.currentNode;e.nodeType===Node.TEXT_NODE&&e.textContent.match(t)&&n.push(e.parentElement)}})),n}export function markItems(e){removeHighlight(),relevantElements=getRelevantElements(e),relevantElements.forEach((e=>{"TD"!==e.nodeName&&"TH"!==e.nodeName||(e=e.parentElement),e.classList.add("js-highlighted"),e.setAttribute("role","mark")})),toggleSearchError(),toggleSearchNav(),instancesExist()&&relevantElements[currentIndex].scrollIntoView(scrollBehavior),currentIndex=0}export function removeHighlight(){instancesExist()&&[...document.getElementsByClassName("js-highlighted")].forEach((e=>{e.classList.remove("js-highlighted"),e.removeAttribute("role")})),relevantElements=null,toggleSearchNav(),searchError.setAttribute("hidden","")}export function gotoInstance(e){"next"===e&&currentIndex<relevantElements.length?(currentIndex++,relevantElements[currentIndex].scrollIntoView(scrollBehavior)):"prev"===e&&currentIndex>0&&(currentIndex--,relevantElements[currentIndex].scrollIntoView(scrollBehavior))}function toggleSearchNav(){if(instancesExist()){const e=[...document.getElementsByClassName("search-nav__button")],t="disabled";relevantElements.length>1?e.forEach((e=>{console.log(`Enabling ${e}`),e.hasAttribute(t)&&(console.log(e),e.removeAttribute(t))})):e.forEach((e=>{e.hasAttribute(t)||e.setAttribute(t,"")})),nav.removeAttribute("hidden")}else nav.setAttribute("hidden","")}function toggleSearchError(){instancesExist()?searchError.setAttribute("hidden",""):searchError.removeAttribute("hidden")}function instancesExist(){return!(!relevantElements||0===relevantElements.length)}
